(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{86:function(e,n,r){"use strict";r.r(n),r.d(n,"frontMatter",(function(){return i})),r.d(n,"metadata",(function(){return l})),r.d(n,"toc",(function(){return o})),r.d(n,"default",(function(){return u}));var t=r(3),a=(r(0),r(93));const i={sidebar_position:5},l={unversionedId:"queries/variables",id:"queries/variables",isDocsHomePage:!1,title:"Query Variables",description:"In this section we'll learn how to create Query Variables",source:"@site/docs/queries/variables.md",sourceDirName:"queries",slug:"/queries/variables",permalink:"/dqlx/docs/queries/variables",editUrl:"https://github.com/fenos/dqlx-docs/edit/master/docs/queries/variables.md",version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"Pagination",permalink:"/dqlx/docs/queries/pagination"},next:{title:"Execution",permalink:"/dqlx/docs/queries/execution"}},o=[{value:"Defining Query Variable",id:"defining-query-variable",children:[{value:"Use the variable",id:"use-the-variable",children:[]}]}],c={toc:o};function u({components:e,...n}){return Object(a.b)("wrapper",Object(t.a)({},c,n,{components:e,mdxType:"MDXLayout"}),Object(a.b)("p",null,"In this section we'll learn how to create Query Variables"),Object(a.b)("h2",{id:"defining-query-variable"},"Defining Query Variable"),Object(a.b)("p",null,"This time let's start from the plain DQL statement to define a variable"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-graphql"},"var(func: eq(name, $0)) {\n    film {\n        performance {\n            D AS genre\n        }\n    }\n}\n")),Object(a.b)("p",null,"then you will write the variable this way"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-go"},'variable := dqlx.Variable(dql.EqFn("name", "test")).\n    Edge("film").\n    Edge("film->performance", dqlx.Fields(`\n         D AS genre\n    `))\n')),Object(a.b)("p",null,"If you want to add a variable on an edge you'll use ",Object(a.b)("inlineCode",{parentName:"p"},"EdgeAs()")," function, For example:"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-graphql"},"A AS var(func: eq(name, $0)) {\n    B AS film {\n        C AS performance {\n            D AS genre\n        }\n    }\n}\n")),Object(a.b)("p",null,"You'll write"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-go"},'variable := dqlx.Variable(dql.EqFn("name", "test")).\n    As("A").\n    EdgeAs("B", "film").\n    EdgeAs("C", "film->performance", dqlx.Fields(`\n         D AS genre\n    `))\n')),Object(a.b)("h3",{id:"use-the-variable"},"Use the variable"),Object(a.b)("p",null,"To use a variable within a query is super simple, just add the variable to a query using the ",Object(a.b)("inlineCode",{parentName:"p"},"Variable()")," method\nthen refer to it with the ",Object(a.b)("inlineCode",{parentName:"p"},"Expr")," function"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-go"},'variable := dqlx.Variable(dql.EqFn("name", "test")).\n    Edge("film").\n    Edge("film->performance", dqlx.Fields(`\n         D AS genre\n    `))\n\ndb.QueryType("Film").\n    Fields("uid").\n    Filter(dqlx.Eq{\n        "genre": dqlx.Expr("D"),    \n    }).\n    Variable(variable)\n')))}u.isMDXComponent=!0},93:function(e,n,r){"use strict";r.d(n,"a",(function(){return b})),r.d(n,"b",(function(){return f}));var t=r(0),a=r.n(t);function i(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function l(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function o(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){i(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function c(e,n){if(null==e)return{};var r,t,a=function(e,n){if(null==e)return{};var r,t,a={},i=Object.keys(e);for(t=0;t<i.length;t++)r=i[t],n.indexOf(r)>=0||(a[r]=e[r]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)r=i[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var u=a.a.createContext({}),s=function(e){var n=a.a.useContext(u),r=n;return e&&(r="function"==typeof e?e(n):o(o({},n),e)),r},b=function(e){var n=s(e.components);return a.a.createElement(u.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return a.a.createElement(a.a.Fragment,{},n)}},d=a.a.forwardRef((function(e,n){var r=e.components,t=e.mdxType,i=e.originalType,l=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),b=s(r),d=t,f=b["".concat(l,".").concat(d)]||b[d]||p[d]||i;return r?a.a.createElement(f,o(o({ref:n},u),{},{components:r})):a.a.createElement(f,o({ref:n},u))}));function f(e,n){var r=arguments,t=n&&n.mdxType;if("string"==typeof e||t){var i=r.length,l=new Array(i);l[0]=d;var o={};for(var c in n)hasOwnProperty.call(n,c)&&(o[c]=n[c]);o.originalType=e,o.mdxType="string"==typeof e?e:t,l[1]=o;for(var u=2;u<i;u++)l[u]=r[u];return a.a.createElement.apply(null,l)}return a.a.createElement.apply(null,r)}d.displayName="MDXCreateElement"}}]);